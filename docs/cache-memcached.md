# Memcached

### [Оглавление](./index.md)

## Использование

Инициализация через авто конфиг:

```yaml
engine:
  cache:
    - type: memcached
      name: primary
      hosts: "localhost:11211"
      timeout: 3s
```

Инициализация в коде

```go
app.PushCache(cache.NewMemcached("primary", cache.MemcachedConfig{
    Hosts: "localhost:11211",
	Timeout: time.Second * 3,
}))
```

Далее в необходимых местах можно получить кеш:

```go
cache := app.GetCache("primary")
```

## Особенности

Memcached не умеет работать с картами, для всех функций работы с картами используется декодирование в json. 

В БД данные хранятся и возвращаются в виде слайса байт, за исключением получение карты, там используется декодирование json с приведением к типам по умолчанию для данной операции.

Не поддерживается декремент первой операцией при отсутствии ключа, за исключением вложенных в карты.

### Далее [Redis](./cache-redis.md)